<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üîê Random Password Generator</title>
<style>
    body {
        font-family: 'Segoe UI', sans-serif;
        background-color: white;
        color: black;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 20px;
    }
    .frame {
        border: 1px solid #ccc;
        padding: 15px;
        margin: 10px;
        border-radius: 8px;
    }
    label {
        display: block;
        margin-top: 10px;
    }
    input[type="number"] {
        width: 60px;
        margin-left: 5px;
    }
    button {
        margin: 10px;
        padding: 8px 12px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }
    .password-item {
        display: flex;
        align-items: center;
        margin: 5px 0;
    }
    .password-text {
        font-family: monospace;
        margin-right: 10px;
    }
</style>
</head>
<body>

<h1>üîê Random Password Generator</h1>

<div class="frame">
    <label>Number of passwords: <input type="number" id="count" value="5" min="1"></label>
    <label>Length of each password: <input type="number" id="length" value="12" min="4"></label>
</div>

<div class="frame">
    <label><input type="checkbox" id="upper" checked> Uppercase (A-Z)</label>
    <label><input type="checkbox" id="lower" checked> Lowercase (a-z)</label>
    <label><input type="checkbox" id="digits" checked> Digits (0-9)</label>
    <label><input type="checkbox" id="symbols" checked> Symbols (!@#$...)</label>
</div>

<div class="frame">
    <button onclick="generatePasswords()">Generate Passwords</button>
    <button onclick="savePasswords()">Save to File</button>
    <button id="toggleModeBtn" onclick="toggleMode()">üåô Dark Mode</button>
</div>

<div id="passwords" class="frame"></div>

<script>
let darkMode = false;
let lastGenerated = [];

function generateStrongPassword(length, useUpper, useLower, useDigits, useSymbols) {
    let charPool = '';
    if (useUpper) charPool += 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
    if (useLower) charPool += 'abcdefghijklmnopqrstuvwxyz';
    if (useDigits) charPool += '0123456789';
    if (useSymbols) charPool += '!@#$%^&*()_+-=[]{}|;:,.<>?';

    if (!charPool) {
        alert('Please select at least one character type!');
        return '';
    }

    let password = '';
    if (useUpper) password += randomChoice('ABCDEFGHIJKLMNOPQRSTUVWXYZ');
    if (useLower) password += randomChoice('abcdefghijklmnopqrstuvwxyz');
    if (useDigits) password += randomChoice('0123456789');
    if (useSymbols) password += randomChoice('!@#$%^&*()_+-=[]{}|;:,.<>?');

    for (let i = password.length; i < length; i++) {
        password += randomChoice(charPool);
    }

    return shuffleString(password);
}

function randomChoice(str) {
    return str.charAt(Math.floor(Math.random() * str.length));
}

function shuffleString(str) {
    return str.split('').sort(() => Math.random() - 0.5).join('');
}

function generatePasswords() {
    const count = parseInt(document.getElementById('count').value);
    const length = parseInt(document.getElementById('length').value);
    const useUpper = document.getElementById('upper').checked;
    const useLower = document.getElementById('lower').checked;
    const useDigits = document.getElementById('digits').checked;
    const useSymbols = document.getElementById('symbols').checked;

    lastGenerated = [];
    const container = document.getElementById('passwords');
    container.innerHTML = '';

    for (let i = 0; i < count; i++) {
        const pw = generateStrongPassword(length, useUpper, useLower, useDigits, useSymbols);
        lastGenerated.push(pw);

        const div = document.createElement('div');
        div.className = 'password-item';

        const span = document.createElement('span');
        span.className = 'password-text';
        span.textContent = `${i+1}. ${pw}`;

        const btn = document.createElement('button');
        btn.textContent = 'üìã Copy';
        btn.onclick = () => {
            navigator.clipboard.writeText(pw);
            alert(`Password copied to clipboard:\n${pw}`);
        };

        div.appendChild(span);
        div.appendChild(btn);
        container.appendChild(div);
    }
}

function savePasswords() {
    if (!lastGenerated.length) {
        alert('No passwords to save!');
        return;
    }

    const blob = new Blob([lastGenerated.join('\n')], { type: 'text/plain' });
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = 'passwords.txt';
    a.click();
}

function toggleMode() {
    darkMode = !darkMode;
    document.body.style.backgroundColor = darkMode ? '#121212' : 'white';
    document.body.style.color = darkMode ? 'white' : 'black';
    document.getElementById('toggleModeBtn').textContent = darkMode ? '‚òÄÔ∏è Light Mode' : 'üåô Dark Mode';
}
</script>

</body>
</html>
